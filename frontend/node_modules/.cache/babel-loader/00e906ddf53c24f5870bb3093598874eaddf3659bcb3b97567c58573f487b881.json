{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import PlayerSearch from'../components/PlayerSearch';import{playerAPI,analyticsAPI,aiAPI,handleAPIError}from'../utils/api';import{useAuth}from'../hooks/useAuth';import{jsxs as _jsxs,jsx as _jsx,Fragment as _Fragment}from\"react/jsx-runtime\";const Dashboard=()=>{var _user$email,_user$tier,_playerStats$statcast,_dbStats$total_player,_dbStats$total_statca,_dbStats$statcast_,_dbStats$fangraphs_,_dbStats$statcast_dat,_dbStats$statcast_dat2,_dbStats$statcast_dat3,_dbStats$statcast_dat4;const[selectedPlayer,setSelectedPlayer]=useState(null);const[playerStats,setPlayerStats]=useState(null);const[trendingPlayers,setTrendingPlayers]=useState([]);const[aiSuggestions,setAiSuggestions]=useState([]);const[dbStats,setDbStats]=useState(null);const[loading,setLoading]=useState(false);const[error,setError]=useState(null);const[retryAttempts,setRetryAttempts]=useState(0);const[lastUpdated,setLastUpdated]=useState(null);const[aiQuery,setAiQuery]=useState('');const[aiResponse,setAiResponse]=useState(null);const[aiLoading,setAiLoading]=useState(false);const{user}=useAuth();const navigate=useNavigate();// Load initial data\nuseEffect(()=>{loadDashboardData();},[]);const loadDashboardData=async function(){let isRetry=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;try{if(!isRetry){setLoading(true);setError(null);}// Load database stats and trending players with timeout handling\nconst[dbStatsResponse,trendingResponse]=await Promise.allSettled([analyticsAPI.getDatabaseStats(),playerAPI.getTrending(5)]);let hasErrors=false;if(dbStatsResponse.status==='fulfilled'){setDbStats(dbStatsResponse.value.data);}else{console.error('Database stats failed:',dbStatsResponse.reason);hasErrors=true;}if(trendingResponse.status==='fulfilled'){setTrendingPlayers(trendingResponse.value.data||[]);}else{console.error('Trending players failed:',trendingResponse.reason);hasErrors=true;}// Set AI suggestions with error handling\nsetAiSuggestions([\"Show me Aaron Judge's home run stats\",\"Compare Mookie Betts and Ronald Acuña Jr\",\"Who has the highest exit velocity this season?\",\"Find pitchers with the best strikeout rates\"]);setLastUpdated(new Date().toLocaleTimeString());setRetryAttempts(0);// Show partial error if some requests failed but others succeeded\nif(hasErrors&&(dbStats||trendingPlayers.length>0)){setError('Some data could not be loaded. Dashboard may be incomplete.');}}catch(error){console.error('Dashboard loading error:',error);setError(handleAPIError(error));// Implement exponential backoff for retries\nif(retryAttempts<3){setTimeout(()=>{setRetryAttempts(prev=>prev+1);loadDashboardData(true);},Math.pow(2,retryAttempts)*1000);}}finally{setLoading(false);}};const handlePlayerSelect=async player=>{setSelectedPlayer(player);setPlayerStats(null);setLoading(true);setError(null);try{var _playerData$fangraphs,_playerData$statcast_;const response=await playerAPI.getSummary(player.id);const playerData=response.data;// Validate data quality\nif(!playerData.player_info){throw new Error('Player information not available');}// Check for 2025 data availability\nconst has2025Data=((_playerData$fangraphs=playerData.fangraphs_batting)===null||_playerData$fangraphs===void 0?void 0:_playerData$fangraphs.some(stat=>stat.Season===2025))||((_playerData$statcast_=playerData.statcast_summary)===null||_playerData$statcast_===void 0?void 0:_playerData$statcast_.some(pitch=>pitch.game_year===2025));if(!has2025Data){setError(`Limited 2025 data available for ${player.name}. Showing historical data.`);}setPlayerStats(playerData);}catch(error){const errorMessage=handleAPIError(error);setError(`Failed to load data for ${player.name}: ${errorMessage}`);console.error('Player selection error:',error);}finally{setLoading(false);}};const handleAiQuery=async function(){let query=arguments.length>0&&arguments[0]!==undefined?arguments[0]:aiQuery;if(!query.trim())return;setAiLoading(true);setError(null);try{const response=await aiAPI.chat(query,{source:'dashboard'});setAiResponse(response.data);setAiQuery('');}catch(error){setError(handleAPIError(error));}finally{setAiLoading(false);}};const handleSuggestionClick=suggestion=>{setAiQuery(suggestion);handleAiQuery(suggestion);};const formatStatValue=value=>{if(value===null||value===undefined)return'N/A';if(typeof value==='number'){return value.toFixed(3);}return value;};return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col md:flex-row md:items-center md:justify-between animate-fade-in\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"text-3xl font-bold text-gradient\",children:[\"Welcome back, \",user===null||user===void 0?void 0:(_user$email=user.email)===null||_user$email===void 0?void 0:_user$email.split('@')[0]]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-secondary-600 mt-1 flex items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"mr-2\",children:\"\\u26BE\"}),\"Analyze baseball statistics with AI assistance\",/*#__PURE__*/_jsx(\"span\",{className:\"success-indicator ml-3\",children:\"2025 Season Live\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-4 md:mt-0\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4 text-sm\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-secondary-600\",children:[\"Tier: \",/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-primary-600\",children:user===null||user===void 0?void 0:(_user$tier=user.tier)===null||_user$tier===void 0?void 0:_user$tier.toUpperCase()})]}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-secondary-600\",children:[\"Queries Today: \",/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:(user===null||user===void 0?void 0:user.query_count_today)||0})]}),lastUpdated&&/*#__PURE__*/_jsxs(\"span\",{className:\"text-secondary-500\",children:[\"Updated: \",lastUpdated]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>loadDashboardData(),disabled:loading,className:\"text-primary-600 hover:text-primary-700 text-sm font-medium\",title:\"Refresh dashboard data\",children:[loading?'↻':'⟳',\" Refresh\"]})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-secondary-900 mb-4\",children:\"Player Search\"}),/*#__PURE__*/_jsx(PlayerSearch,{onPlayerSelect:handlePlayerSelect,placeholder:\"Search for any MLB player...\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-secondary-900 mb-4\",children:\"AI Assistant\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:aiQuery,onChange:e=>setAiQuery(e.target.value),onKeyPress:e=>e.key==='Enter'&&handleAiQuery(),placeholder:\"Ask anything about baseball statistics...\",className:\"input-primary flex-1\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleAiQuery(),disabled:aiLoading||!aiQuery.trim(),className:\"btn-primary\",children:aiLoading?'Thinking...':'Ask AI'})]}),aiSuggestions.length>0&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-secondary-600 mb-2\",children:\"Try these queries:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-2\",children:aiSuggestions.slice(0,4).map((suggestion,index)=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleSuggestionClick(suggestion),className:\"text-xs bg-secondary-100 hover:bg-secondary-200 text-secondary-700 px-3 py-1 rounded-full transition-colors\",children:suggestion},index))})]}),aiResponse&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-blue-50 border border-blue-200 rounded-lg p-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-medium text-blue-900 mb-2\",children:\"AI Analysis:\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-blue-800 text-sm mb-3\",children:aiResponse.explanation}),aiResponse.suggestions&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-blue-600 mb-1\",children:\"Follow-up questions:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-1\",children:aiResponse.suggestions.map((suggestion,index)=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleSuggestionClick(suggestion),className:\"block text-xs text-blue-600 hover:text-blue-800 underline\",children:suggestion},index))})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-2 gap-6\",children:[selectedPlayer&&/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-xl font-semibold text-secondary-900 mb-4\",children:[selectedPlayer.name,\" - \",selectedPlayer.team]}),loading?/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center py-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600\"})}):playerStats?/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-secondary-50 rounded-lg p-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-medium text-secondary-900 mb-2\",children:\"Player Info\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4 text-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-secondary-600\",children:\"Position:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 font-medium\",children:selectedPlayer.position})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-secondary-600\",children:\"Team:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 font-medium\",children:selectedPlayer.team})]})]})]}),playerStats.fangraphs_batting&&playerStats.fangraphs_batting.length>0&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-medium text-secondary-900 mb-2\",children:\"2025 Performance\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-2 md:grid-cols-4 gap-4\",children:[{key:'AVG',label:'AVG'},{key:'OPS',label:'OPS'},{key:'wOBA',label:'wOBA'},{key:'wRC_plus',label:'wRC+'}].map(stat=>{var _playerStats$fangraph;return/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-secondary-600 uppercase\",children:stat.label}),/*#__PURE__*/_jsx(\"div\",{className:\"text-lg font-semibold text-secondary-900\",children:formatStatValue((_playerStats$fangraph=playerStats.fangraphs_batting[0])===null||_playerStats$fangraph===void 0?void 0:_playerStats$fangraph[stat.key])})]},stat.key);})})]}),playerStats.fangraphs_batting&&playerStats.fangraphs_batting.length>0&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-medium text-secondary-900 mb-2\",children:\"League Context\"}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-green-50 border border-green-200 rounded-lg p-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4 text-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-green-700\",children:\"wRC+ Rank:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 font-medium text-green-900\",children:playerStats.fangraphs_batting[0].wRC_plus>=140?'Elite (Top 10%)':playerStats.fangraphs_batting[0].wRC_plus>=115?'Above Average':playerStats.fangraphs_batting[0].wRC_plus>=85?'Average':'Below Average'})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-green-700\",children:\"WAR Pace:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 font-medium text-green-900\",children:(playerStats.fangraphs_batting[0].WAR||0)>4?'All-Star Level':(playerStats.fangraphs_batting[0].WAR||0)>2?'Solid Starter':(playerStats.fangraphs_batting[0].WAR||0)>0?'Role Player':'Below Average'})]})]})})]}),playerStats.statcast_summary&&playerStats.statcast_summary.length>0&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-medium text-secondary-900 mb-2\",children:\"Recent Activity\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-secondary-50 rounded-lg p-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-secondary-700\",children:[\"Last game: \",/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:(_playerStats$statcast=playerStats.statcast_summary[0].game_date)===null||_playerStats$statcast===void 0?void 0:_playerStats$statcast.split('T')[0]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-secondary-700 mt-1\",children:[\"vs \",playerStats.statcast_summary[0].home_team===selectedPlayer.team?playerStats.statcast_summary[0].away_team:playerStats.statcast_summary[0].home_team]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-secondary-600 mt-2\",children:[\"Total Statcast events: \",playerStats.statcast_summary.length]})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate(`/player/${selectedPlayer.id}`),className:\"btn-primary w-full\",children:\"View Detailed Analysis\"})]}):error?/*#__PURE__*/_jsx(\"div\",{className:\"text-red-600 text-sm\",children:error}):/*#__PURE__*/_jsx(\"div\",{className:\"text-secondary-600 text-sm\",children:\"Select a player to view statistics\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-secondary-900\",children:\"Platform Statistics\"}),loading&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-sm text-secondary-600\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-4 w-4 border-b-2 border-primary-600 mr-2\"}),\"Loading...\"]})]}),dbStats?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4 mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-secondary-600 uppercase\",children:\"Total Players\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-semibold text-secondary-900\",children:((_dbStats$total_player=dbStats.total_players)===null||_dbStats$total_player===void 0?void 0:_dbStats$total_player.toLocaleString())||'N/A'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-secondary-600 uppercase\",children:\"Statcast Pitches\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-semibold text-secondary-900\",children:((_dbStats$total_statca=dbStats.total_statcast_pitches)===null||_dbStats$total_statca===void 0?void 0:_dbStats$total_statca.toLocaleString())||'N/A'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-secondary-600 uppercase\",children:\"2025 Records\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-semibold text-green-600\",children:((_dbStats$statcast_=dbStats.statcast_2025_records)===null||_dbStats$statcast_===void 0?void 0:_dbStats$statcast_.toLocaleString())||'N/A'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-secondary-600 uppercase\",children:\"FanGraphs Players\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-semibold text-secondary-900\",children:((_dbStats$fangraphs_=dbStats.fangraphs_2025_batting_players)===null||_dbStats$fangraphs_===void 0?void 0:_dbStats$fangraphs_.toLocaleString())||'N/A'})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-green-50 border border-green-200 rounded-lg p-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between text-sm\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-green-700 font-medium\",children:\"Data Status:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-green-900\",children:\"\\u2713 2025 Season Active\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between text-sm mt-1\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-green-700\",children:\"Date Range:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-green-900\",children:[(_dbStats$statcast_dat=dbStats.statcast_date_range)===null||_dbStats$statcast_dat===void 0?void 0:(_dbStats$statcast_dat2=_dbStats$statcast_dat.earliest)===null||_dbStats$statcast_dat2===void 0?void 0:_dbStats$statcast_dat2.split('T')[0],\" to \",(_dbStats$statcast_dat3=dbStats.statcast_date_range)===null||_dbStats$statcast_dat3===void 0?void 0:(_dbStats$statcast_dat4=_dbStats$statcast_dat3.latest)===null||_dbStats$statcast_dat4===void 0?void 0:_dbStats$statcast_dat4.split('T')[0]]})]})]})]}):/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-secondary-600\",children:loading?'Loading platform statistics...':'Platform statistics unavailable'})})]}),trendingPlayers.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-secondary-900 mb-4\",children:\"Trending Players\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3\",children:trendingPlayers.map((player,index)=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>handlePlayerSelect(player),className:\"w-full text-left p-3 bg-secondary-50 hover:bg-secondary-100 rounded-lg transition-colors\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-medium text-secondary-900\",children:player.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-secondary-600\",children:[player.team,\" \\u2022 \",player.position]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-secondary-500\",children:[\"#\",index+1]})]})},player.id))})]})]})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-red-50 border border-red-200 rounded-lg p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"h-5 w-5 text-red-400\",fill:\"currentColor\",viewBox:\"0 0 20 20\",children:/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",d:\"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\",clipRule:\"evenodd\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-3 flex-1\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-medium text-red-800\",children:\"Data Loading Issue\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-1 text-sm text-red-600\",children:error}),retryAttempts>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2 text-xs text-red-500\",children:[\"Retry attempt \",retryAttempts,\"/3...\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-auto pl-3\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setError(null);loadDashboardData();},className:\"text-red-600 hover:text-red-800 text-sm font-medium\",children:\"Try Again\"})})]})})]});};export default Dashboard;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","PlayerSearch","playerAPI","analyticsAPI","aiAPI","handleAPIError","useAuth","jsxs","_jsxs","jsx","_jsx","Fragment","_Fragment","Dashboard","_user$email","_user$tier","_playerStats$statcast","_dbStats$total_player","_dbStats$total_statca","_dbStats$statcast_","_dbStats$fangraphs_","_dbStats$statcast_dat","_dbStats$statcast_dat2","_dbStats$statcast_dat3","_dbStats$statcast_dat4","selectedPlayer","setSelectedPlayer","playerStats","setPlayerStats","trendingPlayers","setTrendingPlayers","aiSuggestions","setAiSuggestions","dbStats","setDbStats","loading","setLoading","error","setError","retryAttempts","setRetryAttempts","lastUpdated","setLastUpdated","aiQuery","setAiQuery","aiResponse","setAiResponse","aiLoading","setAiLoading","user","navigate","loadDashboardData","isRetry","arguments","length","undefined","dbStatsResponse","trendingResponse","Promise","allSettled","getDatabaseStats","getTrending","hasErrors","status","value","data","console","reason","Date","toLocaleTimeString","setTimeout","prev","Math","pow","handlePlayerSelect","player","_playerData$fangraphs","_playerData$statcast_","response","getSummary","id","playerData","player_info","Error","has2025Data","fangraphs_batting","some","stat","Season","statcast_summary","pitch","game_year","name","errorMessage","handleAiQuery","query","trim","chat","source","handleSuggestionClick","suggestion","formatStatValue","toFixed","className","children","email","split","tier","toUpperCase","query_count_today","onClick","disabled","title","onPlayerSelect","placeholder","type","onChange","e","target","onKeyPress","key","slice","map","index","explanation","suggestions","team","position","label","_playerStats$fangraph","wRC_plus","WAR","game_date","home_team","away_team","total_players","toLocaleString","total_statcast_pitches","statcast_2025_records","fangraphs_2025_batting_players","statcast_date_range","earliest","latest","fill","viewBox","fillRule","d","clipRule"],"sources":["/home/jeffreyconboy/StatEdge/frontend/src/pages/Dashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport PlayerSearch from '../components/PlayerSearch';\nimport { playerAPI, analyticsAPI, aiAPI, handleAPIError } from '../utils/api';\nimport { useAuth } from '../hooks/useAuth';\n\nconst Dashboard = () => {\n  const [selectedPlayer, setSelectedPlayer] = useState(null);\n  const [playerStats, setPlayerStats] = useState(null);\n  const [trendingPlayers, setTrendingPlayers] = useState([]);\n  const [aiSuggestions, setAiSuggestions] = useState([]);\n  const [dbStats, setDbStats] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [retryAttempts, setRetryAttempts] = useState(0);\n  const [lastUpdated, setLastUpdated] = useState(null);\n  const [aiQuery, setAiQuery] = useState('');\n  const [aiResponse, setAiResponse] = useState(null);\n  const [aiLoading, setAiLoading] = useState(false);\n\n  const { user } = useAuth();\n  const navigate = useNavigate();\n\n  // Load initial data\n  useEffect(() => {\n    loadDashboardData();\n  }, []);\n\n  const loadDashboardData = async (isRetry = false) => {\n    try {\n      if (!isRetry) {\n        setLoading(true);\n        setError(null);\n      }\n\n      // Load database stats and trending players with timeout handling\n      const [dbStatsResponse, trendingResponse] = await Promise.allSettled([\n        analyticsAPI.getDatabaseStats(),\n        playerAPI.getTrending(5)\n      ]);\n\n      let hasErrors = false;\n\n      if (dbStatsResponse.status === 'fulfilled') {\n        setDbStats(dbStatsResponse.value.data);\n      } else {\n        console.error('Database stats failed:', dbStatsResponse.reason);\n        hasErrors = true;\n      }\n\n      if (trendingResponse.status === 'fulfilled') {\n        setTrendingPlayers(trendingResponse.value.data || []);\n      } else {\n        console.error('Trending players failed:', trendingResponse.reason);\n        hasErrors = true;\n      }\n\n      // Set AI suggestions with error handling\n      setAiSuggestions([\n        \"Show me Aaron Judge's home run stats\",\n        \"Compare Mookie Betts and Ronald Acuña Jr\",\n        \"Who has the highest exit velocity this season?\",\n        \"Find pitchers with the best strikeout rates\"\n      ]);\n\n      setLastUpdated(new Date().toLocaleTimeString());\n      setRetryAttempts(0);\n\n      // Show partial error if some requests failed but others succeeded\n      if (hasErrors && (dbStats || trendingPlayers.length > 0)) {\n        setError('Some data could not be loaded. Dashboard may be incomplete.');\n      }\n\n    } catch (error) {\n      console.error('Dashboard loading error:', error);\n      setError(handleAPIError(error));\n      \n      // Implement exponential backoff for retries\n      if (retryAttempts < 3) {\n        setTimeout(() => {\n          setRetryAttempts(prev => prev + 1);\n          loadDashboardData(true);\n        }, Math.pow(2, retryAttempts) * 1000);\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handlePlayerSelect = async (player) => {\n    setSelectedPlayer(player);\n    setPlayerStats(null);\n    setLoading(true);\n    setError(null);\n\n    try {\n      const response = await playerAPI.getSummary(player.id);\n      const playerData = response.data;\n      \n      // Validate data quality\n      if (!playerData.player_info) {\n        throw new Error('Player information not available');\n      }\n\n      // Check for 2025 data availability\n      const has2025Data = playerData.fangraphs_batting?.some(stat => stat.Season === 2025) ||\n                         playerData.statcast_summary?.some(pitch => pitch.game_year === 2025);\n      \n      if (!has2025Data) {\n        setError(`Limited 2025 data available for ${player.name}. Showing historical data.`);\n      }\n\n      setPlayerStats(playerData);\n    } catch (error) {\n      const errorMessage = handleAPIError(error);\n      setError(`Failed to load data for ${player.name}: ${errorMessage}`);\n      console.error('Player selection error:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleAiQuery = async (query = aiQuery) => {\n    if (!query.trim()) return;\n\n    setAiLoading(true);\n    setError(null);\n\n    try {\n      const response = await aiAPI.chat(query, { source: 'dashboard' });\n      setAiResponse(response.data);\n      setAiQuery('');\n    } catch (error) {\n      setError(handleAPIError(error));\n    } finally {\n      setAiLoading(false);\n    }\n  };\n\n  const handleSuggestionClick = (suggestion) => {\n    setAiQuery(suggestion);\n    handleAiQuery(suggestion);\n  };\n\n  const formatStatValue = (value) => {\n    if (value === null || value === undefined) return 'N/A';\n    if (typeof value === 'number') {\n      return value.toFixed(3);\n    }\n    return value;\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex flex-col md:flex-row md:items-center md:justify-between animate-fade-in\">\n        <div>\n          <h1 className=\"text-3xl font-bold text-gradient\">\n            Welcome back, {user?.email?.split('@')[0]}\n          </h1>\n          <p className=\"text-secondary-600 mt-1 flex items-center\">\n            <span className=\"mr-2\">⚾</span>\n            Analyze baseball statistics with AI assistance\n            <span className=\"success-indicator ml-3\">2025 Season Live</span>\n          </p>\n        </div>\n        <div className=\"mt-4 md:mt-0\">\n          <div className=\"flex items-center space-x-4 text-sm\">\n            <span className=\"text-secondary-600\">\n              Tier: <span className=\"font-medium text-primary-600\">{user?.tier?.toUpperCase()}</span>\n            </span>\n            <span className=\"text-secondary-600\">\n              Queries Today: <span className=\"font-medium\">{user?.query_count_today || 0}</span>\n            </span>\n            {lastUpdated && (\n              <span className=\"text-secondary-500\">\n                Updated: {lastUpdated}\n              </span>\n            )}\n            <button\n              onClick={() => loadDashboardData()}\n              disabled={loading}\n              className=\"text-primary-600 hover:text-primary-700 text-sm font-medium\"\n              title=\"Refresh dashboard data\"\n            >\n              {loading ? '↻' : '⟳'} Refresh\n            </button>\n          </div>\n        </div>\n      </div>\n\n      {/* Player Search */}\n      <div className=\"card\">\n        <h2 className=\"text-xl font-semibold text-secondary-900 mb-4\">Player Search</h2>\n        <PlayerSearch \n          onPlayerSelect={handlePlayerSelect}\n          placeholder=\"Search for any MLB player...\"\n        />\n      </div>\n\n      {/* AI Chat Interface */}\n      <div className=\"card\">\n        <h2 className=\"text-xl font-semibold text-secondary-900 mb-4\">AI Assistant</h2>\n        <div className=\"space-y-4\">\n          <div className=\"flex space-x-2\">\n            <input\n              type=\"text\"\n              value={aiQuery}\n              onChange={(e) => setAiQuery(e.target.value)}\n              onKeyPress={(e) => e.key === 'Enter' && handleAiQuery()}\n              placeholder=\"Ask anything about baseball statistics...\"\n              className=\"input-primary flex-1\"\n            />\n            <button\n              onClick={() => handleAiQuery()}\n              disabled={aiLoading || !aiQuery.trim()}\n              className=\"btn-primary\"\n            >\n              {aiLoading ? 'Thinking...' : 'Ask AI'}\n            </button>\n          </div>\n\n          {/* AI Suggestions */}\n          {aiSuggestions.length > 0 && (\n            <div>\n              <p className=\"text-sm text-secondary-600 mb-2\">Try these queries:</p>\n              <div className=\"flex flex-wrap gap-2\">\n                {aiSuggestions.slice(0, 4).map((suggestion, index) => (\n                  <button\n                    key={index}\n                    onClick={() => handleSuggestionClick(suggestion)}\n                    className=\"text-xs bg-secondary-100 hover:bg-secondary-200 text-secondary-700 px-3 py-1 rounded-full transition-colors\"\n                  >\n                    {suggestion}\n                  </button>\n                ))}\n              </div>\n            </div>\n          )}\n\n          {/* AI Response */}\n          {aiResponse && (\n            <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\n              <h3 className=\"font-medium text-blue-900 mb-2\">AI Analysis:</h3>\n              <p className=\"text-blue-800 text-sm mb-3\">{aiResponse.explanation}</p>\n              \n              {aiResponse.suggestions && (\n                <div>\n                  <p className=\"text-xs text-blue-600 mb-1\">Follow-up questions:</p>\n                  <div className=\"space-y-1\">\n                    {aiResponse.suggestions.map((suggestion, index) => (\n                      <button\n                        key={index}\n                        onClick={() => handleSuggestionClick(suggestion)}\n                        className=\"block text-xs text-blue-600 hover:text-blue-800 underline\"\n                      >\n                        {suggestion}\n                      </button>\n                    ))}\n                  </div>\n                </div>\n              )}\n            </div>\n          )}\n        </div>\n      </div>\n\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n        {/* Selected Player Stats */}\n        {selectedPlayer && (\n          <div className=\"card\">\n            <h2 className=\"text-xl font-semibold text-secondary-900 mb-4\">\n              {selectedPlayer.name} - {selectedPlayer.team}\n            </h2>\n            \n            {loading ? (\n              <div className=\"flex items-center justify-center py-8\">\n                <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600\"></div>\n              </div>\n            ) : playerStats ? (\n              <div className=\"space-y-4\">\n                {/* Basic Info */}\n                <div className=\"bg-secondary-50 rounded-lg p-4\">\n                  <h3 className=\"font-medium text-secondary-900 mb-2\">Player Info</h3>\n                  <div className=\"grid grid-cols-2 gap-4 text-sm\">\n                    <div>\n                      <span className=\"text-secondary-600\">Position:</span>\n                      <span className=\"ml-2 font-medium\">{selectedPlayer.position}</span>\n                    </div>\n                    <div>\n                      <span className=\"text-secondary-600\">Team:</span>\n                      <span className=\"ml-2 font-medium\">{selectedPlayer.team}</span>\n                    </div>\n                  </div>\n                </div>\n\n                {/* Quick Stats */}\n                {playerStats.fangraphs_batting && playerStats.fangraphs_batting.length > 0 && (\n                  <div>\n                    <h3 className=\"font-medium text-secondary-900 mb-2\">2025 Performance</h3>\n                    <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n                      {[\n                        { key: 'AVG', label: 'AVG' },\n                        { key: 'OPS', label: 'OPS' }, \n                        { key: 'wOBA', label: 'wOBA' },\n                        { key: 'wRC_plus', label: 'wRC+' }\n                      ].map((stat) => (\n                        <div key={stat.key} className=\"stat-card\">\n                          <div className=\"text-xs text-secondary-600 uppercase\">{stat.label}</div>\n                          <div className=\"text-lg font-semibold text-secondary-900\">\n                            {formatStatValue(playerStats.fangraphs_batting[0]?.[stat.key])}\n                          </div>\n                        </div>\n                      ))}\n                    </div>\n                  </div>\n                )}\n\n                {/* League Context & Rankings */}\n                {playerStats.fangraphs_batting && playerStats.fangraphs_batting.length > 0 && (\n                  <div>\n                    <h3 className=\"font-medium text-secondary-900 mb-2\">League Context</h3>\n                    <div className=\"bg-green-50 border border-green-200 rounded-lg p-3\">\n                      <div className=\"grid grid-cols-2 gap-4 text-sm\">\n                        <div>\n                          <span className=\"text-green-700\">wRC+ Rank:</span>\n                          <span className=\"ml-2 font-medium text-green-900\">\n                            {playerStats.fangraphs_batting[0].wRC_plus >= 140 ? 'Elite (Top 10%)' :\n                             playerStats.fangraphs_batting[0].wRC_plus >= 115 ? 'Above Average' :\n                             playerStats.fangraphs_batting[0].wRC_plus >= 85 ? 'Average' : 'Below Average'}\n                          </span>\n                        </div>\n                        <div>\n                          <span className=\"text-green-700\">WAR Pace:</span>\n                          <span className=\"ml-2 font-medium text-green-900\">\n                            {(playerStats.fangraphs_batting[0].WAR || 0) > 4 ? 'All-Star Level' :\n                             (playerStats.fangraphs_batting[0].WAR || 0) > 2 ? 'Solid Starter' :\n                             (playerStats.fangraphs_batting[0].WAR || 0) > 0 ? 'Role Player' : 'Below Average'}\n                          </span>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                )}\n\n                {/* Statcast Recent Activity */}\n                {playerStats.statcast_summary && playerStats.statcast_summary.length > 0 && (\n                  <div>\n                    <h3 className=\"font-medium text-secondary-900 mb-2\">Recent Activity</h3>\n                    <div className=\"bg-secondary-50 rounded-lg p-3\">\n                      <div className=\"text-sm text-secondary-700\">\n                        Last game: <span className=\"font-medium\">{playerStats.statcast_summary[0].game_date?.split('T')[0]}</span>\n                      </div>\n                      <div className=\"text-sm text-secondary-700 mt-1\">\n                        vs {playerStats.statcast_summary[0].home_team === selectedPlayer.team ? \n                          playerStats.statcast_summary[0].away_team : \n                          playerStats.statcast_summary[0].home_team}\n                      </div>\n                      <div className=\"text-xs text-secondary-600 mt-2\">\n                        Total Statcast events: {playerStats.statcast_summary.length}\n                      </div>\n                    </div>\n                  </div>\n                )}\n\n                <button\n                  onClick={() => navigate(`/player/${selectedPlayer.id}`)}\n                  className=\"btn-primary w-full\"\n                >\n                  View Detailed Analysis\n                </button>\n              </div>\n            ) : error ? (\n              <div className=\"text-red-600 text-sm\">{error}</div>\n            ) : (\n              <div className=\"text-secondary-600 text-sm\">Select a player to view statistics</div>\n            )}\n          </div>\n        )}\n\n        {/* Database Stats & Trending Players */}\n        <div className=\"space-y-6\">\n          {/* Database Statistics */}\n          <div className=\"card\">\n            <div className=\"flex items-center justify-between mb-4\">\n              <h2 className=\"text-xl font-semibold text-secondary-900\">Platform Statistics</h2>\n              {loading && (\n                <div className=\"flex items-center text-sm text-secondary-600\">\n                  <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-primary-600 mr-2\"></div>\n                  Loading...\n                </div>\n              )}\n            </div>\n            \n            {dbStats ? (\n              <>\n                <div className=\"grid grid-cols-2 gap-4 mb-4\">\n                  <div className=\"stat-card\">\n                    <div className=\"text-xs text-secondary-600 uppercase\">Total Players</div>\n                    <div className=\"text-2xl font-semibold text-secondary-900\">\n                      {dbStats.total_players?.toLocaleString() || 'N/A'}\n                    </div>\n                  </div>\n                  <div className=\"stat-card\">\n                    <div className=\"text-xs text-secondary-600 uppercase\">Statcast Pitches</div>\n                    <div className=\"text-2xl font-semibold text-secondary-900\">\n                      {dbStats.total_statcast_pitches?.toLocaleString() || 'N/A'}\n                    </div>\n                  </div>\n                  <div className=\"stat-card\">\n                    <div className=\"text-xs text-secondary-600 uppercase\">2025 Records</div>\n                    <div className=\"text-2xl font-semibold text-green-600\">\n                      {dbStats.statcast_2025_records?.toLocaleString() || 'N/A'}\n                    </div>\n                  </div>\n                  <div className=\"stat-card\">\n                    <div className=\"text-xs text-secondary-600 uppercase\">FanGraphs Players</div>\n                    <div className=\"text-2xl font-semibold text-secondary-900\">\n                      {dbStats.fangraphs_2025_batting_players?.toLocaleString() || 'N/A'}\n                    </div>\n                  </div>\n                </div>\n                \n                {/* Data Quality Indicators */}\n                <div className=\"bg-green-50 border border-green-200 rounded-lg p-3\">\n                  <div className=\"flex items-center justify-between text-sm\">\n                    <span className=\"text-green-700 font-medium\">Data Status:</span>\n                    <span className=\"text-green-900\">✓ 2025 Season Active</span>\n                  </div>\n                  <div className=\"flex items-center justify-between text-sm mt-1\">\n                    <span className=\"text-green-700\">Date Range:</span>\n                    <span className=\"text-green-900\">\n                      {dbStats.statcast_date_range?.earliest?.split('T')[0]} to {dbStats.statcast_date_range?.latest?.split('T')[0]}\n                    </span>\n                  </div>\n                </div>\n              </>\n            ) : (\n              <div className=\"text-center py-8\">\n                <div className=\"text-secondary-600\">\n                  {loading ? 'Loading platform statistics...' : 'Platform statistics unavailable'}\n                </div>\n              </div>\n            )}\n          </div>\n\n          {/* Trending Players */}\n          {trendingPlayers.length > 0 && (\n            <div className=\"card\">\n              <h2 className=\"text-xl font-semibold text-secondary-900 mb-4\">Trending Players</h2>\n              <div className=\"space-y-3\">\n                {trendingPlayers.map((player, index) => (\n                  <button\n                    key={player.id}\n                    onClick={() => handlePlayerSelect(player)}\n                    className=\"w-full text-left p-3 bg-secondary-50 hover:bg-secondary-100 rounded-lg transition-colors\"\n                  >\n                    <div className=\"flex items-center justify-between\">\n                      <div>\n                        <div className=\"font-medium text-secondary-900\">{player.name}</div>\n                        <div className=\"text-sm text-secondary-600\">\n                          {player.team} • {player.position}\n                        </div>\n                      </div>\n                      <div className=\"text-sm text-secondary-500\">\n                        #{index + 1}\n                      </div>\n                    </div>\n                  </button>\n                ))}\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Error Display */}\n      {error && (\n        <div className=\"bg-red-50 border border-red-200 rounded-lg p-4\">\n          <div className=\"flex items-start\">\n            <div className=\"flex-shrink-0\">\n              <svg className=\"h-5 w-5 text-red-400\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\" clipRule=\"evenodd\" />\n              </svg>\n            </div>\n            <div className=\"ml-3 flex-1\">\n              <h3 className=\"text-sm font-medium text-red-800\">\n                Data Loading Issue\n              </h3>\n              <div className=\"mt-1 text-sm text-red-600\">\n                {error}\n              </div>\n              {retryAttempts > 0 && (\n                <div className=\"mt-2 text-xs text-red-500\">\n                  Retry attempt {retryAttempts}/3...\n                </div>\n              )}\n            </div>\n            <div className=\"ml-auto pl-3\">\n              <button\n                onClick={() => {\n                  setError(null);\n                  loadDashboardData();\n                }}\n                className=\"text-red-600 hover:text-red-800 text-sm font-medium\"\n              >\n                Try Again\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Dashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}