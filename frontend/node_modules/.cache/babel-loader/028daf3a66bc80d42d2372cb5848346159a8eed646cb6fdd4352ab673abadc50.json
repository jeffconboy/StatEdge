{"ast":null,"code":"import axios from'axios';const API_BASE_URL=process.env.REACT_APP_API_URL||'http://localhost:3001';// Create axios instance\nconst api=axios.create({baseURL:API_BASE_URL,timeout:30000});// Request interceptor to add auth token\napi.interceptors.request.use(config=>{const token=localStorage.getItem('authToken');if(token){config.headers.Authorization=`Bearer ${token}`;}return config;},error=>{return Promise.reject(error);});// Response interceptor for error handling\napi.interceptors.response.use(response=>response,error=>{var _error$response;if(((_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.status)===401){localStorage.removeItem('authToken');localStorage.removeItem('user');window.location.href='/login';}return Promise.reject(error);});// Auth API calls - Updated to match backend endpoints\nexport const authAPI={login:(email,password)=>api.post('/api/auth/login',{email,password}),register:(email,password)=>api.post('/api/auth/register',{email,password}),me:()=>api.get('/api/auth/me'),updateTier:tier=>api.put('/api/auth/tier',{tier})};// Player API calls - Updated to match Python service endpoints\nconst pythonAPI=axios.create({baseURL:'http://localhost:18000',timeout:30000});// Add auth interceptor for Python API\npythonAPI.interceptors.request.use(config=>{const token=localStorage.getItem('authToken');if(token){config.headers.Authorization=`Bearer ${token}`;}return config;},error=>Promise.reject(error));export const playerAPI={search:function(query){let limit=arguments.length>1&&arguments[1]!==undefined?arguments[1]:10;return pythonAPI.post('/api/players/search',{query,limit});},getStats:function(playerId){let options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return pythonAPI.get(`/api/players/${playerId}/stats`,{params:options});},getSummary:playerId=>pythonAPI.get(`/api/players/${playerId}/summary`),getTrending:function(){let limit=arguments.length>0&&arguments[0]!==undefined?arguments[0]:10;return pythonAPI.get(`/api/players/trending`,{params:{limit}});},bulkStats:(playerIds,statTypes)=>pythonAPI.post('/api/players/bulk-stats',{player_ids:playerIds,stat_types:statTypes})};// Analytics API calls - Updated to match actual endpoints\nexport const analyticsAPI={getDatabaseStats:()=>pythonAPI.get('/api/test/database-stats'),getDataVerification:()=>pythonAPI.get('/api/test/2025-data-verification'),collectData:date=>pythonAPI.post(`/api/test/collect-data${date?`?date=${date}`:''}`),collectFangraphs:function(){let season=arguments.length>0&&arguments[0]!==undefined?arguments[0]:2025;return pythonAPI.post(`/api/test/collect-fangraphs?season=${season}`);},collectSeasonStatcast:function(){let season=arguments.length>0&&arguments[0]!==undefined?arguments[0]:2025;return pythonAPI.post(`/api/test/collect-season-statcast?season=${season}`);}};// AI API calls\nexport const aiAPI={chat:function(query){let context=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return api.post('/api/ai/chat',{query,context});},analyzeProp:function(playerName,propType,bettingLine){let gameContext=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{};return api.post('/api/ai/analyze-prop',{player_name:playerName,prop_type:propType,betting_line:bettingLine,game_context:gameContext});},explainStats:(playerName,statistics)=>api.post('/api/ai/explain-stats',{player_name:playerName,statistics}),getSuggestions:()=>api.get('/api/ai/suggestions'),batchAnalyze:queries=>api.post('/api/ai/batch-analyze',{queries}),getConversations:function(){let limit=arguments.length>0&&arguments[0]!==undefined?arguments[0]:20;let offset=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;return api.get('/api/ai/conversations',{params:{limit,offset}});},getUsageStats:()=>api.get('/api/ai/usage-stats'),health:()=>api.get('/api/ai/health')};// Utility functions\nexport const handleAPIError=error=>{if(error.response){var _error$response$data,_error$response$data2;// Server responded with error status\nreturn((_error$response$data=error.response.data)===null||_error$response$data===void 0?void 0:_error$response$data.error)||((_error$response$data2=error.response.data)===null||_error$response$data2===void 0?void 0:_error$response$data2.message)||'Server error';}else if(error.request){// Request was made but no response received\nreturn'Network error - please check your connection';}else{// Something else happened\nreturn error.message||'An unexpected error occurred';}};export const formatAPIResponse=response=>{return{data:response.data,cached:response.data.cached||false,timestamp:new Date().toISOString()};};export default api;","map":{"version":3,"names":["axios","API_BASE_URL","process","env","REACT_APP_API_URL","api","create","baseURL","timeout","interceptors","request","use","config","token","localStorage","getItem","headers","Authorization","error","Promise","reject","response","_error$response","status","removeItem","window","location","href","authAPI","login","email","password","post","register","me","get","updateTier","tier","put","pythonAPI","playerAPI","search","query","limit","arguments","length","undefined","getStats","playerId","options","params","getSummary","getTrending","bulkStats","playerIds","statTypes","player_ids","stat_types","analyticsAPI","getDatabaseStats","getDataVerification","collectData","date","collectFangraphs","season","collectSeasonStatcast","aiAPI","chat","context","analyzeProp","playerName","propType","bettingLine","gameContext","player_name","prop_type","betting_line","game_context","explainStats","statistics","getSuggestions","batchAnalyze","queries","getConversations","offset","getUsageStats","health","handleAPIError","_error$response$data","_error$response$data2","data","message","formatAPIResponse","cached","timestamp","Date","toISOString"],"sources":["/home/jeffreyconboy/StatEdge/frontend/src/utils/api.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:3001';\n\n// Create axios instance\nconst api = axios.create({\n  baseURL: API_BASE_URL,\n  timeout: 30000,\n});\n\n// Request interceptor to add auth token\napi.interceptors.request.use(\n  (config) => {\n    const token = localStorage.getItem('authToken');\n    if (token) {\n      config.headers.Authorization = `Bearer ${token}`;\n    }\n    return config;\n  },\n  (error) => {\n    return Promise.reject(error);\n  }\n);\n\n// Response interceptor for error handling\napi.interceptors.response.use(\n  (response) => response,\n  (error) => {\n    if (error.response?.status === 401) {\n      localStorage.removeItem('authToken');\n      localStorage.removeItem('user');\n      window.location.href = '/login';\n    }\n    return Promise.reject(error);\n  }\n);\n\n// Auth API calls - Updated to match backend endpoints\nexport const authAPI = {\n  login: (email, password) => api.post('/api/auth/login', { email, password }),\n  register: (email, password) => api.post('/api/auth/register', { email, password }),\n  me: () => api.get('/api/auth/me'),\n  updateTier: (tier) => api.put('/api/auth/tier', { tier }),\n};\n\n// Player API calls - Updated to match Python service endpoints\nconst pythonAPI = axios.create({\n  baseURL: 'http://localhost:18000',\n  timeout: 30000,\n});\n\n// Add auth interceptor for Python API\npythonAPI.interceptors.request.use(\n  (config) => {\n    const token = localStorage.getItem('authToken');\n    if (token) {\n      config.headers.Authorization = `Bearer ${token}`;\n    }\n    return config;\n  },\n  (error) => Promise.reject(error)\n);\n\nexport const playerAPI = {\n  search: (query, limit = 10) => pythonAPI.post('/api/players/search', { query, limit }),\n  getStats: (playerId, options = {}) => pythonAPI.get(`/api/players/${playerId}/stats`, { params: options }),\n  getSummary: (playerId) => pythonAPI.get(`/api/players/${playerId}/summary`),\n  getTrending: (limit = 10) => pythonAPI.get(`/api/players/trending`, { params: { limit } }),\n  bulkStats: (playerIds, statTypes) => pythonAPI.post('/api/players/bulk-stats', { player_ids: playerIds, stat_types: statTypes }),\n};\n\n// Analytics API calls - Updated to match actual endpoints\nexport const analyticsAPI = {\n  getDatabaseStats: () => pythonAPI.get('/api/test/database-stats'),\n  getDataVerification: () => pythonAPI.get('/api/test/2025-data-verification'),\n  collectData: (date) => pythonAPI.post(`/api/test/collect-data${date ? `?date=${date}` : ''}`),\n  collectFangraphs: (season = 2025) => pythonAPI.post(`/api/test/collect-fangraphs?season=${season}`),\n  collectSeasonStatcast: (season = 2025) => pythonAPI.post(`/api/test/collect-season-statcast?season=${season}`),\n};\n\n// AI API calls\nexport const aiAPI = {\n  chat: (query, context = {}) => api.post('/api/ai/chat', { query, context }),\n  analyzeProp: (playerName, propType, bettingLine, gameContext = {}) =>\n    api.post('/api/ai/analyze-prop', { \n      player_name: playerName, \n      prop_type: propType, \n      betting_line: bettingLine, \n      game_context: gameContext \n    }),\n  explainStats: (playerName, statistics) =>\n    api.post('/api/ai/explain-stats', { player_name: playerName, statistics }),\n  getSuggestions: () => api.get('/api/ai/suggestions'),\n  batchAnalyze: (queries) => api.post('/api/ai/batch-analyze', { queries }),\n  getConversations: (limit = 20, offset = 0) =>\n    api.get('/api/ai/conversations', { params: { limit, offset } }),\n  getUsageStats: () => api.get('/api/ai/usage-stats'),\n  health: () => api.get('/api/ai/health'),\n};\n\n// Utility functions\nexport const handleAPIError = (error) => {\n  if (error.response) {\n    // Server responded with error status\n    return error.response.data?.error || error.response.data?.message || 'Server error';\n  } else if (error.request) {\n    // Request was made but no response received\n    return 'Network error - please check your connection';\n  } else {\n    // Something else happened\n    return error.message || 'An unexpected error occurred';\n  }\n};\n\nexport const formatAPIResponse = (response) => {\n  return {\n    data: response.data,\n    cached: response.data.cached || false,\n    timestamp: new Date().toISOString(),\n  };\n};\n\nexport default api;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}